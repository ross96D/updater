@go.Package { name = "github.com/ross96D/updater/share/configuration" }
module updater.share.Configuration

import "package://pkg.pkl-lang.org/pkl-go/pkl.golang@0.6.0#/go.pkl"

class TaskSched {
    task_path: String
    app_path: String
}

class DirectChecksum {
    asset_name: String
}

class AggregateChecksum {
    asset_name: String
    key: String?
}

class CustomChecksum {
    command: String
    args: List<String>?
}

class NoChecksum {}

class Application {
    owner: String
    repo: String
    host: String = "github.com"
    gitub_signature256: String
    github_auth_token: String

    asset_name: String
    task_sched_path: String
    app_path: String
    checksum: DirectChecksum | AggregateChecksum | CustomChecksum | NoChecksum
}

/// The port to listen on.
port: UInt16

user_secret_key: String

user_jwt_expiry: Duration

apps: Listing<Application>

base_path: String?
